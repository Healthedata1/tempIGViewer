@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data> a fhir:OperationDefinition;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "collect-data"];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><h2>collect_data</h2><p>OPERATION: collect_data</p><p>The official URL for this operation definition is: </p><pre>http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data</pre><div><p>The Collect Measure Data operation returns the MeasureReport resource and required patient resources that satisfy the data requirements for a given Measure definition.</p>\n</div><p>URL: [base]/MeasureReport/[id]/$collect-data</p><p>Parameters</p><table class=\"grid\"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>periodStart</td><td>0..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#date\">date</a></td><td/><td><div><p>The start of the measurement period. In keeping with the semantics of the date parameter used in the FHIR search operation, the period will start at the beginning of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period start to be 2014-01-01T00:00:00 inclusive</p>\n</div></td></tr><tr><td>IN</td><td>periodEnd</td><td>0..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#date\">date</a></td><td/><td><div><p>The end of the measurement period. The period will end at the end of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period end to be 2014-12-31T23:59:59 inclusive</p>\n</div></td></tr><tr><td>IN</td><td>patient</td><td>0..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#uri\">uri</a></td><td/><td><div><p>Patient to evaluate against. This is a reference to a <a href=\"{{site.data.fhir.qicore}}StructureDefinition-qicore-patient.html\">QI Core Patient</a> Profile e.g. 'Patient/123'.  If not specified, the measure will be evaluated for all patients that meet the requirements of the measure. If specified, only the referenced patient will be evaluated.</p>\n</div></td></tr><tr><td>IN</td><td>practitioner</td><td>0..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#uri\">uri</a></td><td/><td><div><p>Practitioner to evaluate. This is a reference to a <a href=\"StructureDefinition-practitioner-deqm.html\">DEQM Practitioner</a> e.g. 'Practitioner/123'. If specified, the measure will be evaluated only for patients whose primary practitioner is the identified practitioner</p>\n</div></td></tr><tr><td>IN</td><td>lastReceivedOn</td><td>0..1</td><td><a href=\"http://hl7.org/fhir/R4/datatypes.html#dateTime\">dateTime</a></td><td/><td><div><p>The date the results of this measure were last received. This parameter is only valid for patient-level reports and is used to indicate when the last time a result for this patient was received.  If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response</p>\n</div></td></tr><tr><td>OUT</td><td>measureReport</td><td>1..1</td><td><a href=\"http://hl7.org/fhir/R4/measurereport.html\">MeasureReport</a></td><td/><td><div><p>A MeasureReport of type <code>data-collection</code> detailing the results of the operation</p>\n</div></td></tr><tr><td>OUT</td><td>resource</td><td>0..*</td><td><a href=\"http://hl7.org/fhir/R4/resource.html\">Resource</a></td><td/><td><div><p>The result resources that make up the data-of-interest for the measure</p>\n</div></td></tr></table><div><ul>\n<li>The effect of invoking this operation is to gather the data required for reporting a measure for a patient.</li>\n<li>The id of the instance endpoint,  for example 'measure-mrp'  in <code>[base]/MeasureReport/measure-mrp/$collectData</code> determines which measure data is returned.</li>\n<li>The required data for each measure is discoverable by invoking the <a href=\"todo.html\"><code>$[measure]-requirements</code></a> operation on the payer's <code>Measure</code> endpoint.</li>\n<li>If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response</li>\n</ul>\n</div></div>"
  ];
  fhir:OperationDefinition.url [ fhir:value "http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data"];
  fhir:OperationDefinition.version [ fhir:value "1.1.0"];
  fhir:OperationDefinition.name [ fhir:value "collect_data"];
  fhir:OperationDefinition.status [ fhir:value "active"];
  fhir:OperationDefinition.kind [ fhir:value "operation"];
  fhir:OperationDefinition.date [ fhir:value "2018-06-30T00:00:00-07:00"^^xsd:dateTime];
  fhir:OperationDefinition.publisher [ fhir:value "Da Vinci Project"];
  fhir:OperationDefinition.contact [
     fhir:index 0;
     fhir:ContactDetail.telecom [
       fhir:index 0;
       fhir:ContactPoint.system [ fhir:value "url" ];
       fhir:ContactPoint.value [ fhir:value "http://www.hl7.org/Special/committees/cqi/index.cfm" ]
     ]
  ];
  fhir:OperationDefinition.description [ fhir:value "The Collect Measure Data operation returns the MeasureReport resource and required patient resources that satisfy the data requirements for a given Measure definition."];
  fhir:OperationDefinition.jurisdiction [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "urn:iso:std:iso:3166" ];
       fhir:Coding.code [ fhir:value "US" ];
       fhir:Coding.display [ fhir:value "United States of America" ]
     ]
  ];
  fhir:OperationDefinition.code [ fhir:value "collect-data"];
  fhir:OperationDefinition.comment [ fhir:value "* The effect of invoking this operation is to gather the data required for reporting a measure for a patient. \n * The id of the instance endpoint,  for example 'measure-mrp'  in `[base]/MeasureReport/measure-mrp/$collectData` determines which measure data is returned. \n * The required data for each measure is discoverable by invoking the [`$[measure]-requirements`](todo.html) operation on the payer's `Measure` endpoint. \n * If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response"];
  fhir:OperationDefinition.resource [
     fhir:value "MeasureReport";
     fhir:index 0
  ];
  fhir:OperationDefinition.system [ fhir:value "false"^^xsd:boolean];
  fhir:OperationDefinition.type [ fhir:value "false"^^xsd:boolean];
  fhir:OperationDefinition.instance [ fhir:value "true"^^xsd:boolean];
  fhir:OperationDefinition.parameter [
     fhir:index 0;
     fhir:OperationDefinition.parameter.name [ fhir:value "periodStart" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The start of the measurement period. In keeping with the semantics of the date parameter used in the FHIR search operation, the period will start at the beginning of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period start to be 2014-01-01T00:00:00 inclusive" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "date" ]
  ], [
     fhir:index 1;
     fhir:OperationDefinition.parameter.name [ fhir:value "periodEnd" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The end of the measurement period. The period will end at the end of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period end to be 2014-12-31T23:59:59 inclusive" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "date" ]
  ], [
     fhir:index 2;
     fhir:OperationDefinition.parameter.name [ fhir:value "patient" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "Patient to evaluate against. This is a reference to a [QI Core Patient]({{site.data.fhir.qicore}}StructureDefinition-qicore-patient.html) Profile e.g. 'Patient/123'.  If not specified, the measure will be evaluated for all patients that meet the requirements of the measure. If specified, only the referenced patient will be evaluated." ];
     fhir:OperationDefinition.parameter.type [ fhir:value "uri" ]
  ], [
     fhir:index 3;
     fhir:OperationDefinition.parameter.name [ fhir:value "practitioner" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "Practitioner to evaluate. This is a reference to a [DEQM Practitioner](StructureDefinition-practitioner-deqm.html) e.g. 'Practitioner/123'. If specified, the measure will be evaluated only for patients whose primary practitioner is the identified practitioner" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "uri" ]
  ], [
     fhir:index 4;
     fhir:OperationDefinition.parameter.name [ fhir:value "lastReceivedOn" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "in" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The date the results of this measure were last received. This parameter is only valid for patient-level reports and is used to indicate when the last time a result for this patient was received.  If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "dateTime" ]
  ], [
     fhir:index 5;
     fhir:OperationDefinition.parameter.name [ fhir:value "measureReport" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "out" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "1"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "1" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "A MeasureReport of type `data-collection` detailing the results of the operation" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "MeasureReport" ]
  ], [
     fhir:index 6;
     fhir:OperationDefinition.parameter.name [ fhir:value "resource" ];
     fhir:OperationDefinition.parameter.use [ fhir:value "out" ];
     fhir:OperationDefinition.parameter.min [ fhir:value "0"^^xsd:integer ];
     fhir:OperationDefinition.parameter.max [ fhir:value "*" ];
     fhir:OperationDefinition.parameter.documentation [ fhir:value "The result resources that make up the data-of-interest for the measure" ];
     fhir:OperationDefinition.parameter.type [ fhir:value "Resource" ]
  ] .

# - ontology header ------------------------------------------------------------

<http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl;
  owl:versionIRI <http://build.fhir.org/us/davinci-deqm/OperationDefinition/collect-data.ttl> .

# -------------------------------------------------------------------------------------

