<?xml version="1.0" encoding="UTF-8"?>

<OperationDefinition xmlns="http://hl7.org/fhir">
  <id value="collect-data"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><h2>collect_data</h2><p>OPERATION: collect_data</p><p>The official URL for this operation definition is: </p><pre>http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data</pre><div><p>The Collect Measure Data operation returns the MeasureReport resource and required patient resources that satisfy the data requirements for a given Measure definition.</p>
</div><p>URL: [base]/MeasureReport/[id]/$collect-data</p><p>Parameters</p><table class="grid"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>periodStart</td><td>0..1</td><td><a href="http://hl7.org/fhir/STU3/datatypes.html#date">date</a></td><td/><td><div><p>The start of the measurement period. In keeping with the semantics of the date parameter used in the FHIR search operation, the period will start at the beginning of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period start to be 2014-01-01T00:00:00 inclusive</p>
</div></td></tr><tr><td>IN</td><td>periodEnd</td><td>0..1</td><td><a href="http://hl7.org/fhir/STU3/datatypes.html#date">date</a></td><td/><td><div><p>The end of the measurement period. The period will end at the end of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period end to be 2014-12-31T23:59:59 inclusive</p>
</div></td></tr><tr><td>IN</td><td>patient</td><td>0..1</td><td><a href="http://hl7.org/fhir/STU3/datatypes.html#uri">uri</a></td><td/><td><div><p>Patient to evaluate against. This is a reference to a <a href="http://hl7.org/fhir/us/qicore/STU32/StructureDefinition-qicore-patient.html">QI Core Patient</a> Profile e.g. 'Patient/123'.  If not specified, the measure will be evaluated for all patients that meet the requirements of the measure. If specified, only the referenced patient will be evaluated.</p>
</div></td></tr><tr><td>IN</td><td>practitioner</td><td>0..1</td><td><a href="http://hl7.org/fhir/STU3/datatypes.html#uri">uri</a></td><td/><td><div><p>Practitioner to evaluate. This is a reference to a <a href="StructureDefinition-practitioner-deqm.html">DEQM Practitioner</a> e.g. 'Practitioner/123'. If specified, the measure will be evaluated only for patients whose primary practitioner is the identified practitioner</p>
</div></td></tr><tr><td>IN</td><td>lastReceivedOn</td><td>0..1</td><td><a href="http://hl7.org/fhir/STU3/datatypes.html#dateTime">dateTime</a></td><td/><td><div><p>The date the results of this measure were last received. This parameter is only valid for patient-level reports and is used to indicate when the last time a result for this patient was received.  If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response</p>
</div></td></tr><tr><td>OUT</td><td>measureReport</td><td>1..1</td><td><a href="http://hl7.org/fhir/STU3/measurereport.html">MeasureReport</a></td><td/><td><div><p>A MeasureReport of type <code>data-collection</code> detailing the results of the operation</p>
</div></td></tr><tr><td>OUT</td><td>resource</td><td>0..*</td><td><a href="http://hl7.org/fhir/STU3/resource.html">Resource</a></td><td/><td><div><p>The result resources that make up the data-of-interest for the measure</p>
</div></td></tr></table><div><ul>
<li>The effect of invoking this operation is to gather the data required for reporting a measure for a patient.</li>
<li>The id of the instance endpoint,  for example 'measure-mrp'  in <code>[base]/MeasureReport/measure-mrp/$collectData</code> determines which measure data is returned.</li>
<li>The required data for each measure is discoverable by invoking the <a href="todo.html"><code>$[measure]-requirements</code></a> operation on the payer's <code>Measure</code> endpoint.</li>
<li>If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response</li>
</ul>
</div></div>
  </text>
  <url value="http://hl7.org/fhir/us/davinci-deqm/OperationDefinition/collect-data"/>
  <version value="1.0.0"/>
  <name value="collect_data"/>
  <status value="active"/>
  <kind value="operation"/>
  <date value="2018-06-30T00:00:00-07:00"/>
  <publisher value="Da Vinci Project"/>
  <contact>
    <telecom>
      <system value="url"/>
      <value value="http://www.hl7.org/Special/committees/cqi/index.cfm"/>
    </telecom>
  </contact>
  <description value="The Collect Measure Data operation returns the MeasureReport resource and required patient resources that satisfy the data requirements for a given Measure definition."/>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="US"/>
      <display value="United States of America"/>
    </coding>
  </jurisdiction>
  <idempotent value="true"/>
  <code value="collect-data"/>
  <comment value="* The effect of invoking this operation is to gather the data required for reporting a measure for a patient. &#xA; * The id of the instance endpoint,  for example &#39;measure-mrp&#39;  in `[base]/MeasureReport/measure-mrp/$collectData` determines which measure data is returned. &#xA; * The required data for each measure is discoverable by invoking the [`$[measure]-requirements`](todo.html) operation on the payer&#39;s `Measure` endpoint. &#xA; * If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response"/>
  <resource value="MeasureReport"/>
  <system value="false"/>
  <type value="false"/>
  <instance value="true"/>
  <parameter>
    <name value="periodStart"/>
    <use value="in"/>
    <min value="0"/>
    <max value="1"/>
    <documentation value="The start of the measurement period. In keeping with the semantics of the date parameter used in the FHIR search operation, the period will start at the beginning of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period start to be 2014-01-01T00:00:00 inclusive"/>
    <type value="date"/>
  </parameter>
  <parameter>
    <name value="periodEnd"/>
    <use value="in"/>
    <min value="0"/>
    <max value="1"/>
    <documentation value="The end of the measurement period. The period will end at the end of the period implied by the supplied timestamp. E.g. a value of 2014 would set the period end to be 2014-12-31T23:59:59 inclusive"/>
    <type value="date"/>
  </parameter>
  <parameter>
    <name value="patient"/>
    <use value="in"/>
    <min value="0"/>
    <max value="1"/>
    <documentation value="Patient to evaluate against. This is a reference to a [QI Core Patient](http://hl7.org/fhir/us/qicore/STU32/StructureDefinition-qicore-patient.html) Profile e.g. &#39;Patient/123&#39;.  If not specified, the measure will be evaluated for all patients that meet the requirements of the measure. If specified, only the referenced patient will be evaluated."/>
    <type value="uri"/>
  </parameter>
  <parameter>
    <name value="practitioner"/>
    <use value="in"/>
    <min value="0"/>
    <max value="1"/>
    <documentation value="Practitioner to evaluate. This is a reference to a [DEQM Practitioner](StructureDefinition-practitioner-deqm.html) e.g. &#39;Practitioner/123&#39;. If specified, the measure will be evaluated only for patients whose primary practitioner is the identified practitioner"/>
    <type value="uri"/>
  </parameter>
  <parameter>
    <name value="lastReceivedOn"/>
    <use value="in"/>
    <min value="0"/>
    <max value="1"/>
    <documentation value="The date the results of this measure were last received. This parameter is only valid for patient-level reports and is used to indicate when the last time a result for this patient was received.  If the lastReceivedOn parameter is supplied, only data that is new or has been changed since the lastReceivedOn date is included in the response"/>
    <type value="dateTime"/>
  </parameter>
  <parameter>
    <name value="measureReport"/>
    <use value="out"/>
    <min value="1"/>
    <max value="1"/>
    <documentation value="A MeasureReport of type `data-collection` detailing the results of the operation"/>
    <type value="MeasureReport"/>
  </parameter>
  <parameter>
    <name value="resource"/>
    <use value="out"/>
    <min value="0"/>
    <max value="*"/>
    <documentation value="The result resources that make up the data-of-interest for the measure"/>
    <type value="Resource"/>
  </parameter>
</OperationDefinition>