@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://hl7.org/fhir/us/meds/Bundle/get-active-orders> a fhir:Bundle;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "get-active-orders"];
  fhir:Resource.meta [
     fhir:Meta.versionId [ fhir:value "1" ];
     fhir:Meta.lastUpdated [ fhir:value "2017-03-28T14:06:11.808-04:00"^^xsd:dateTime ]
  ];
  fhir:Bundle.type [ fhir:value "searchset"];
  fhir:Bundle.total [ fhir:value "2"^^xsd:nonNegativeInteger];
  fhir:Bundle.link [
     fhir:index 0;
     fhir:Bundle.link.relation [ fhir:value "self" ];
     fhir:Bundle.link.url [ fhir:value "http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest?patient=test2&status=active" ]
  ];
  fhir:Bundle.entry [
     fhir:index 0;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-1" ];
     fhir:Bundle.entry.resource <http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-1>
  ], [
     fhir:index 1;
     fhir:Bundle.entry.fullUrl [ fhir:value "http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-2" ];
     fhir:Bundle.entry.resource <http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-2>
  ] .

<http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-1> a fhir:MedicationRequest;
  fhir:Resource.id [ fhir:value "test2-1"];
  fhir:Resource.meta [
     fhir:Meta.versionId [ fhir:value "4" ];
     fhir:Meta.lastUpdated [ fhir:value "2017-03-28T14:05:26.103-04:00"^^xsd:dateTime ];
     fhir:Meta.profile [
       fhir:value "http://hl7.org/fhir/us/core/StructureDefinition/us-core-medicationrequest";
       fhir:index 0
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: test2-1</p><p><b>meta</b>: </p><p><b>status</b>: active</p><p><b>intent</b>: order</p><p><b>medication</b>: Zocor (simvastatin) 20mg Tablet <span style=\"background: LightGoldenRodYellow\">(Details : {RxNorm code '104491' = '104491', given as 'Simvastatin 20 MG Oral Tablet [Zocor]'})</span></p><p><b>subject</b>: <a href=\"Patient-test2.html\">Brian Z. Generated Summary: id: test2; Medical Record Number = 1032702 (USUAL); active; Brian Z ; ph: 555-555-5555(HOME); gender: male; birthDate: Jan 5, 1964</a></p><p><b>authoredOn</b>: Jan 15, 2016</p><h3>Requesters</h3><table class=\"grid\"><tr><td>-</td><td><b>Agent</b></td></tr><tr><td>*</td><td>Dr. Cayr (BMC PCP)</td></tr></table><p><b>reasonCode</b>: Hypercholesterolemia (disorder) <span style=\"background: LightGoldenRodYellow\">(Details : {SNOMED CT code '13644009' = '13644009', given as 'Hypercholesterolemia (disorder)'})</span></p><p><b>dosageInstruction</b>: </p><h3>DispenseRequests</h3><table class=\"grid\"><tr><td>-</td><td><b>NumberOfRepeatsAllowed</b></td><td><b>Quantity</b></td></tr><tr><td>*</td><td>11</td><td>60 tablets<span style=\"background: LightGoldenRodYellow\"> (Details: http://hl7.org/fhir/v3/orderableDrugForm code TAB = 'Tablet')</span></td></tr></table></div>"
  ];
  fhir:MedicationRequest.status [ fhir:value "active"];
  fhir:MedicationRequest.intent [ fhir:value "order"];
  fhir:MedicationRequest.medicationCodeableConcept [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://www.nlm.nih.gov/research/umls/rxnorm" ];
       fhir:Coding.code [ fhir:value "104491" ];
       fhir:Coding.display [ fhir:value "Simvastatin 20 MG Oral Tablet [Zocor]" ];
       fhir:Coding.userSelected [ fhir:value "false"^^xsd:boolean ]
     ];
     fhir:CodeableConcept.text [ fhir:value "Zocor (simvastatin) 20mg Tablet" ]
  ];
  fhir:MedicationRequest.subject [
     fhir:link <http://hl7.org/fhir/us/meds/Patient/test2>;
     fhir:Reference.reference [ fhir:value "Patient/test2" ];
     fhir:Reference.display [ fhir:value "Brian Z" ]
  ];
  fhir:MedicationRequest.authoredOn [ fhir:value "2016-01-15"^^xsd:date];
  fhir:MedicationRequest.requester [
     fhir:MedicationRequest.requester.agent [
       fhir:Reference.display [ fhir:value "Dr. Cayr (BMC PCP)" ]
     ]
  ];
  fhir:MedicationRequest.reasonCode [
     fhir:index 0;
     fhir:CodeableConcept.coding [
       fhir:index 0;
       a sct:13644009;
       fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
       fhir:Coding.code [ fhir:value "13644009" ];
       fhir:Coding.display [ fhir:value "Hypercholesterolemia (disorder)" ];
       fhir:Coding.userSelected [ fhir:value "false"^^xsd:boolean ]
     ]
  ];
  fhir:MedicationRequest.dosageInstruction [
     fhir:index 0;
     fhir:Dosage.sequence [ fhir:value "1"^^xsd:integer ];
     fhir:Dosage.text [ fhir:value "40mg by mouth once daily" ];
     fhir:Dosage.asNeededBoolean [ fhir:value "false"^^xsd:boolean ];
     fhir:Dosage.route [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://ncimeta.nci.nih.gov" ];
         fhir:Coding.code [ fhir:value "C38288" ];
         fhir:Coding.display [ fhir:value "ORAL" ];
         fhir:Coding.userSelected [ fhir:value "false"^^xsd:boolean ]
       ]
     ]
  ];
  fhir:MedicationRequest.dispenseRequest [
     fhir:MedicationRequest.dispenseRequest.numberOfRepeatsAllowed [ fhir:value "11"^^xsd:positiveInteger ];
     fhir:MedicationRequest.dispenseRequest.quantity [
       fhir:Quantity.value [ fhir:value "60"^^xsd:decimal ];
       fhir:Quantity.unit [ fhir:value "tablets" ];
       fhir:Quantity.system [ fhir:value "http://hl7.org/fhir/v3/orderableDrugForm" ];
       fhir:Quantity.code [ fhir:value "TAB" ]
     ]
  ] .

<http://hl7.org/fhir/us/meds/Patient/test2> a fhir:us .

<http://wildfhir.aegis.net/fhir3-0-0/MedicationRequest/test2-2> a fhir:MedicationRequest;
  fhir:Resource.id [ fhir:value "test2-2"];
  fhir:Resource.meta [
     fhir:Meta.versionId [ fhir:value "4" ];
     fhir:Meta.lastUpdated [ fhir:value "2017-03-28T14:05:36.088-04:00"^^xsd:dateTime ];
     fhir:Meta.profile [
       fhir:value "http://hl7.org/fhir/us/core/StructureDefinition/us-core-medicationrequest";
       fhir:index 0
     ]
  ];
  fhir:DomainResource.text [
     fhir:Narrative.status [ fhir:value "generated" ];
     fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative with Details</b></p><p><b>id</b>: test2-2</p><p><b>meta</b>: </p><p><b>status</b>: active</p><p><b>intent</b>: order</p><p><b>medication</b>: Humulin R (insulin regular, human) U100  100units/ml inj solution <span style=\"background: LightGoldenRodYellow\">(Details : {RxNorm code '311036' = '311036', given as 'Humulin R (insulin regular, human) U100  100units/ml inj solution'})</span></p><p><b>subject</b>: <a href=\"Patient-test2.html\">Brian Z. Generated Summary: id: test2; Medical Record Number = 1032702 (USUAL); active; Brian Z ; ph: 555-555-5555(HOME); gender: male; birthDate: Jan 5, 1964</a></p><p><b>authoredOn</b>: Jul 1, 2015</p><h3>Requesters</h3><table class=\"grid\"><tr><td>-</td><td><b>Agent</b></td></tr><tr><td>*</td><td>Dr. Cryn (BMC Endo)</td></tr></table><p><b>dosageInstruction</b>: </p><h3>DispenseRequests</h3><table class=\"grid\"><tr><td>-</td><td><b>NumberOfRepeatsAllowed</b></td><td><b>Quantity</b></td></tr><tr><td>*</td><td>11</td><td>40 ml<span style=\"background: LightGoldenRodYellow\"> (Details: UCUM code mL = 'mL')</span></td></tr></table></div>"
  ];
  fhir:MedicationRequest.status [ fhir:value "active"];
  fhir:MedicationRequest.intent [ fhir:value "order"];
  fhir:MedicationRequest.medicationCodeableConcept [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       fhir:Coding.system [ fhir:value "http://www.nlm.nih.gov/research/umls/rxnorm" ];
       fhir:Coding.code [ fhir:value "311036" ];
       fhir:Coding.display [ fhir:value "Humulin R (insulin regular, human) U100  100units/ml inj solution" ];
       fhir:Coding.userSelected [ fhir:value "false"^^xsd:boolean ]
     ];
     fhir:CodeableConcept.text [ fhir:value "Humulin R (insulin regular, human) U100  100units/ml inj solution" ]
  ];
  fhir:MedicationRequest.subject [
     fhir:link <http://hl7.org/fhir/us/meds/Patient/test2>;
     fhir:Reference.reference [ fhir:value "Patient/test2" ];
     fhir:Reference.display [ fhir:value "Brian Z" ]
  ];
  fhir:MedicationRequest.authoredOn [ fhir:value "2015-07-01"^^xsd:date];
  fhir:MedicationRequest.requester [
     fhir:MedicationRequest.requester.agent [
       fhir:Reference.display [ fhir:value "Dr. Cryn (BMC Endo)" ]
     ]
  ];
  fhir:MedicationRequest.dosageInstruction [
     fhir:index 0;
     fhir:Dosage.sequence [ fhir:value "1"^^xsd:integer ];
     fhir:Dosage.text [ fhir:value "10U every AM, 5U every PM, 5U at bedtime" ];
     fhir:Dosage.asNeededBoolean [ fhir:value "false"^^xsd:boolean ];
     fhir:Dosage.route [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         a sct:34206005;
         fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
         fhir:Coding.code [ fhir:value "34206005" ];
         fhir:Coding.display [ fhir:value "Subcutaneous route (qualifier value)" ];
         fhir:Coding.userSelected [ fhir:value "false"^^xsd:boolean ]
       ]
     ]
  ];
  fhir:MedicationRequest.dispenseRequest [
     fhir:MedicationRequest.dispenseRequest.numberOfRepeatsAllowed [ fhir:value "11"^^xsd:positiveInteger ];
     fhir:MedicationRequest.dispenseRequest.quantity [
       fhir:Quantity.value [ fhir:value "40"^^xsd:decimal ];
       fhir:Quantity.unit [ fhir:value "ml" ];
       fhir:Quantity.system [ fhir:value "http://unitsofmeasure.org" ];
       fhir:Quantity.code [ fhir:value "mL" ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<http://hl7.org/fhir/us/meds/Bundle/get-active-orders.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl;
  owl:versionIRI <http://build.fhir.org/us/meds/Bundle/get-active-orders.ttl> .

# -------------------------------------------------------------------------------------

